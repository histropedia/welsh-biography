/*!
 * ﻿HistropediaJS v1.1.1 | Histropedia Ltd. (c) 2019 | histropedia.com/histropediajs/index.html
 * Use of this software is subject to our End User Licence Agreement: http://histropedia.com/histropediajs/licence.html
 */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var o in i)("object"==typeof exports?exports:t)[o]=i[o]}}(this,function(){return function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.Histropedia=void 0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},r=i(19),s=i(8),a=i(5),l=i(3),h=o(l),d=i(6),u=o(d);e.Histropedia=n({Timeline:r.Timeline,Article:s.Article,Dmy:a.Dmy},u,h)},function(t,e,i){"use strict";function o(t,e){var i=this;this.options=$.extend(!0,{},h.DEFAULT_OPTIONS,e),$(t).is("canvas")?(this.canvas=$(t),this.options.width=this.canvas.width()):(this.canvas=$("<canvas width='"+this.options.width+"' height='"+this.options.height+"'/>"),$(t).append(this.canvas)),this.canvasContext=this.canvas[0].getContext("2d"),this.width=this.options.width,this.top=this.options.height-this.options.verticalOffset,this.repositionWindow=0,this.uniqueId="tl"+(new Date).getTime(),this.title="My timeline",this.ownerId=void 0,this.isInPublicDirectory=!1,this.isDragging=!1,this.draggingArticle=null,this.dragStartX=0,this.loadingHttpRequests=[],this.articles=[],this.articleImageLoadQueue=[],this.lastAnimatingArticle={id:null,endTime:0},this.topRow=0,this.activatedHandlers=[],this.articleDoubleClickedHandlers=[],this.backgroundClickHandlers=[],this.options.onArticleClick&&this.addActivatedHandler(this.options.onArticleClick),this.options.onArticleDoubleClick&&this.addArticleDoubleClickedHandlers(this.options.onArticleDoubleClick),this.options.onBackgroundClick&&this.onBackgroundClick(this.options.onBackgroundClick),this.options.enableCursor&&this.canvas.mousemove(function(t){i.canvas.css("cursor",i.getCursor(t))});var o=this.options.zoom;this.timescaleManager=new s.TimescaleManager(this,o),this.timescaleManager.setUnitLevels(),this.timescaleManager.addZoomChangedHandler(this.zoomChanged,this),this.timescaleManager.setZoom(o.initial),this.timescaleManager.setStartDate(new a.Dmy(this.options.initialDate)),this.options.enableUserControl&&(this.enableZoomByWheel(),this.enableDragging()),this.groups={level:-1,periods:[]},setInterval(this.loadArticleImageFromQueue.bind(this),5),this.defaultRedraw()}Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.Timeline=o;var r=i(3),s=i(24),a=i(5),l=i(2),h=i(20),d=i(7);o.prototype.setTitle=function(t){this.title=t,this.save(),PubSub.publish(EVENTS.TIMELINE_TITLE_CHANGED,t)},o.prototype.setIsInPublicDirectory=function(t){this.isInPublicDirectory=t,this.save(),PubSub.publish(EVENTS.TIMELINE_IS_IN_PUBLIC_DIRECTORY_CHANGED,t)},o.prototype.getWidth=function(){return this.canvas[0].width},o.prototype.isInVicinity=function(t,e,i){var o=i||this.getRelativePosition(t);return o.top>this.top-e.up&&o.top<this.top+e.down},o.prototype.getPixel=function(t,e){var i,o=t.toKeyString();if(e){if(i=e.tokens,i.hasOwnProperty(o))return i[o]}else i={};for(var n=(this.getWidth(),this.repositionWindow),s=this.timescaleManager.startToken;n>0;)s=this.timescaleManager.getPrevious(s),n-=s.length;if(this.timescaleManager.unit>r.ZOOM_DAY){var a=365.2422*(t.year-s.value.year)+30.44*(t.month-s.value.month)+(t.day-s.value.day);if(this.timescaleManager.unit==r.ZOOM_MONTH)return i[o]=a*this.timescaleManager.unitSizeInPixels/30.44+n;var l=this.timescaleManager.unitLengthInYears;return i[o]=a*this.timescaleManager.unitSizeInPixels/(365.2422*l)+n}var h=s.value.getDaysTo(t);return i[o]=h*this.timescaleManager.unitSizeInPixels+n},o.prototype.addActivatedHandler=function(t){this.activatedHandlers.push(t)},o.prototype.activated=function(t){if(t)for(var e=0;e<this.activatedHandlers.length;e++)this.activatedHandlers[e].call(this,t)},o.prototype.getRelativePosition=function(t){var e=this.canvas.offset(),i=(0,l.extractPagePosition)(t);return{left:i.left-e.left,top:i.top-e.top}},o.prototype.getRelativeCoordinates=function(t){var e=this.canvas.offset();return{x:t.x-e.left,y:t.y-e.top}},o.prototype.getPagePosition=function(t){var e=this.canvas.parent().position();return{left:t.left+e.left,top:t.top+e.top}},o.prototype.getCursor=function(t){if(this.isDragging)return"e-resize";var e=this.getRelativePosition(t);if(this.draggingArticle)return this.draggingArticle.getCursor(e);if(!this.options.disableBranding&&(this._isInsideHistropediaJSLink(e)||this._isInsideTermsLink(e)))return"pointer";for(var i=this.articles.length-1;i>=0;i--){var o=this.articles[i];if(o.isInside(e)){var n=o.getCursor(e);if(null!==n)return n}}return"default"},o.prototype.doubleClicked=function(t){for(var e=this.getRelativePosition(t),i=this.articles.length-1;i>=0;i--){var o=this.articles[i];if(o.isInside(e))return void this.articleDoubleClicked(o)}},o.prototype.addArticleDoubleClickedHandlers=function(t){this.articleDoubleClickedHandlers.push(t)},o.prototype.articleDoubleClicked=function(t){for(var e=0;e<this.articleDoubleClickedHandlers.length;e++)this.articleDoubleClickedHandlers[e].call(this,t)},o.prototype.onBackgroundClick=function(t){this.backgroundClickHandlers.push(t)},o.prototype.backgroundClicked=function(t,e){for(var i=0;i<this.backgroundClickHandlers.length;i++)this.backgroundClickHandlers[i].call(this,t,e)},o.prototype.zoomChanged=function(){var t;this.currentDensitySetting&&(t=this.currentDensitySetting.region),this.updateCurrentDensitySetting(),t!==this.currentDensitySetting.region&&this.updateArticlesGroupIndex()},o.prototype.updateCurrentDensitySetting=function(){for(var t=0;t<r.DENSITY_SETTINGS.length;t++){var e=r.DENSITY_SETTINGS[t];if(this.timescaleManager.zoom>=e.zoom.from&&this.timescaleManager.zoom<e.zoom.to){this.currentDensitySetting=e;break}}},o.prototype.calculateEndToken=function(){var t,e=this.getWidth(),i=this.repositionWindow,o=this.timescaleManager.startToken,n=o;do t=n,n=this.timescaleManager.getNext(n),i+=n.length;while(i<e);return t},o.prototype.getDensityPick=function(){switch(this.options.article.density){case r.DENSITY_LOW:return this.currentDensitySetting.low;case r.DENSITY_MEDIUM:return this.currentDensitySetting.medium;case r.DENSITY_HIGH:return this.currentDensitySetting.high;case r.DENSITY_ALL:return this.currentDensitySetting.all}console.error("Unknown density selector:"+val)},o.prototype.invoke=function(t,e,i){e.hasOwnProperty(t)&&e[t].call(this,i)},o.prototype.forLoadedArticles=function(t){for(var e=0;e<this.articles.length;e++){var i=this.articles[e];i.isDataLoaded&&t.call(this,i)}},o.prototype.forVisibleArticles=function(t){for(var e=0;e<this.articles.length;e++){var i=this.articles[e];i.isDataLoaded&&i.isVisible&&t.call(this,i)}},o.prototype.forInRangeArticles=function(t){for(var e=0;e<this.articles.length;e++){var i=this.articles[e];i.isDataLoaded&&(i.isInRange||i.isFading)&&t.call(this,i)}},o.prototype.enqueueImageLoad=function(t){this.articleImageLoadQueue.push(t)},o.prototype.loadArticleImageFromQueue=function(){var t=this.articleImageLoadQueue.pop();t&&(t.image=new Image,t.image.onload=function(){t.adjustHeightFromLoadedImage(),t.imageLoaded=!0,t.owner.redraw()},t.image.src=(0,d.getPropertyFromData)(t.data,"imageUrl"))},o.prototype.setStartDate=function(t,e){var e=e||0;"string"==typeof t&&(t=a.Dmy.fromString(t)),this.repositionWindow=0,this.timescaleManager.setStartDate(t),e&&this.updateFromByPixels(-e),this.defaultRedraw()},o.prototype.setCentreDate=function(t,e){this.setStartDate(t,this.options.width/2+e)},o.prototype.setOption=function(t,e){if("string"==typeof t){var i=(0,d.getPropertyFromData)(this.options,t);if("undefined"==typeof e)return i;t=(0,l.buildObjectFromPath)(t,e)}$.extend(!0,this.options,t),(t.width||t.height)&&this.setSize(this.options.width,this.options.height),"number"==typeof t.verticalOffset&&(this.top=this.options.height-this.options.verticalOffset),!t.article||"object"!==n(t.article.defaultStyle)&&"object"!==n(t.article.defaultActiveStyle)||this.forLoadedArticles(function(t){t.style=$.extend(!0,{},this.options.article.defaultStyle,t.data.style||{}),t.activeStyle=$.extend(!0,{},t.style,this.options.article.defaultActiveStyle,t.data.activeStyle||{}),t.titleLines=void 0,t.summarisedSubtitle=void 0}),this.defaultRedraw()},o.prototype.setSize=function(t,e){this.canvas[0].height=this.options.width=e,this.canvas[0].width=this.width=this.options.width=t,this.top=e-this.options.verticalOffset,this.defaultRedraw()},o.prototype.generateDensitySettings=function(){var t=this.timescaleManager.zoomOptions.ratio;console.log(this.timescaleManager);for(var e=[],i=Math.round(Math.log(.5)/Math.log(t)*100)/100,o=0;o<19;o++){var n={region:o+1,zoom:{from:o*i,to:(o+1)*i},low:1,medium:2,high:3,all:25,step:{months:0,days:Math.pow(2,o)}};e.push(n)}console.log(JSON.stringify(e))}},function(t,e){"use strict";function i(t){if(!t)var t=window.event;return t.cancelBubble=!0,t.returnValue=!1,t.stopPropagation&&(t.stopPropagation(),t.preventDefault()),!1}function o(t){var e=t.originalEvent.touches;return{x:(e[0].pageX+e[1].pageX)/2,y:(e[0].pageY+e[1].pageY)/2}}function n(t){var e=t.originalEvent.touches,i=e[0].pageX,o=e[0].pageY,n=e[1].pageX,r=e[1].pageY;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}function r(t,e,i){if(i>=t.length)for(var o=i-t.length;o--+1;)t.push(void 0);return t.splice(i,0,t.splice(e,1)[0]),t}function s(t,e){for(var i=0;i<t.length;i++)if(t[i].id==e)return i;return-1}function a(){document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()}function l(t){return{left:t.pageX?t.pageX:t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].pageX:t.pageX,top:t.pageY?t.pageY:t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].pageY:t.pageY}}function h(t){return"undefined"==typeof t}function d(t,e,i){return t<e?e:t>i?i:t}function u(t,e){if(0==t.length)return-1;for(var i=0,o=t[0][e],n=1;n<t.length;n++)t[n][e]<o&&(o=t[n][e],i=n);return i}function c(t){return"function"==typeof t}function f(t,e){var i=t.split("."),o=i[i.length-1],n={};n[o]=e;for(var r=i.length-2;r>=0;r--){var s=i[r],a=$.extend(!0,{},n);n={},n[s]=a}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.preventDefault=i,e.extractPinchCentre=o,e.getTouchDistance=n,e.moveInArray=r,e.getIndexById=s,e.clearSelection=a,e.extractPagePosition=l,e.isUndefined=h,e.bind=d,e.findMinIndex=u,e.isFunction=c,e.buildObjectFromPath=f;(function(){var t=0;return function(e,i){clearTimeout(t),t=setTimeout(e,i)}})();String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.hashCode=function(){return this.split("").reduce(function(t,e){return t=(t<<5)-t+e.charCodeAt(0),t&t},0)},String.prototype.endsWith=function(t){return this.indexOf(t,this.length-t.length)!==-1}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.MINOR_MARKER=0,e.MAJOR_MARKER=1,e.ERA_MARKER=2,e.ZOOM_DAY=0,e.ZOOM_MONTH=1,e.ZOOM_YEAR=2,e.ZOOM_DECADE=3,e.ZOOM_CENTURY=4,e.ZOOM_MILLENNIUM=5,e.ZOOM_10_THOUSAND_YEARS=6,e.ZOOM_100_THOUSAND_YEARS=7,e.ZOOM_MILLION_YEARS=8,e.ZOOM_10_MILLION_YEARS=9,e.ZOOM_100_MILLION_YEARS=10,e.ZOOM_BILLION_YEARS=11,e.PRECISION_DAY=11,e.PRECISION_MONTH=10,e.PRECISION_YEAR=9,e.PRECISION_DECADE=8,e.PRECISION_CENTURY=7,e.PRECISION_MILLENNIUM=6,e.PRECISION_MILLION_YEARS=3,e.PRECISION_BILLION_YEARS=1,e.YEAR_PREFIXES={3:{label:" ka",value:1e3},6:{label:" Ma",value:1e6},9:{label:" Ga",value:1e9}},e.DENSITY_LOW=1,e.DENSITY_MEDIUM=2,e.DENSITY_HIGH=3,e.DENSITY_ALL=0,e.RANGE_ALL=0,e.RANGE_SCREEN=1,e.DENSITY_SETTINGS=[{region:1,zoom:{from:0,to:3.11},low:1,medium:2,high:3,all:25,step:{months:0,days:1}},{region:2,zoom:{from:3.11,to:6.22},low:1,medium:2,high:3,all:25,step:{months:0,days:2}},{region:3,zoom:{from:6.22,to:9.33},low:1,medium:2,high:3,all:25,step:{months:0,days:4}},{region:4,zoom:{from:9.33,to:12.44},low:1,medium:2,high:3,all:25,step:{months:0,days:8}},{region:5,zoom:{from:12.44,to:15.549999999999999},low:1,medium:2,high:3,all:25,step:{months:0,days:16}},{region:6,zoom:{from:15.549999999999999,to:18.66},low:1,medium:2,high:3,all:25,step:{months:0,days:32}},{region:7,zoom:{from:18.66,to:21.77},low:1,medium:2,high:3,all:25,step:{months:0,days:64}},{region:8,zoom:{from:21.77,to:24.88},low:1,medium:2,high:3,all:25,step:{months:0,days:128}},{region:9,zoom:{from:24.88,to:27.99},low:1,medium:2,high:3,all:25,step:{months:0,days:256}},{region:10,zoom:{from:27.99,to:31.099999999999998},low:1,medium:2,high:3,all:25,step:{months:0,days:512}},{region:11,zoom:{from:31.099999999999998,to:34.21},low:1,medium:2,high:3,all:25,step:{months:0,days:1024}},{region:12,zoom:{from:34.21,to:37.32},low:1,medium:2,high:3,all:25,step:{months:0,days:2048}},{region:13,zoom:{from:37.32,to:40.43},low:1,medium:2,high:3,all:25,step:{months:0,days:4096}},{region:14,zoom:{from:40.43,to:43.54},low:1,medium:2,high:3,all:25,step:{months:0,days:8192}},{region:15,zoom:{from:43.54,to:46.65},low:1,medium:2,high:3,all:25,step:{months:0,days:16384}},{region:16,zoom:{from:46.65,to:49.76},low:1,medium:2,high:3,all:25,step:{months:0,days:32768}},{region:17,zoom:{from:49.76,to:52.87},low:1,medium:2,high:3,all:25,step:{months:0,days:65536}},{region:18,zoom:{from:52.87,to:55.98},low:1,medium:2,high:3,all:25,step:{months:0,days:131072}},{region:19,zoom:{from:55.98,to:59.089999999999996},low:1,medium:2,high:3,all:25,step:{months:0,days:262144}},{region:20,zoom:{from:59.089999999999996,to:62.199999999999996},low:1,medium:2,high:3,all:25,step:{months:0,days:524288}},{region:21,zoom:{from:62.199999999999996,to:65.31},low:1,medium:2,high:3,all:25,step:{months:0,days:1048576}},{region:22,zoom:{from:65.31,to:68.42},low:1,medium:2,high:3,all:25,step:{months:0,days:2097152}},{region:23,zoom:{from:68.42,to:71.53},low:1,medium:2,high:3,all:25,step:{months:0,days:4194304}},{region:24,zoom:{from:71.53,to:74.64},low:1,medium:2,high:3,all:25,step:{months:0,days:8388608}},{region:25,zoom:{from:74.64,to:77.75},low:1,medium:2,high:3,all:25,step:{months:0,days:16777216}},{region:26,zoom:{from:77.75,to:80.86},low:1,medium:2,high:3,all:25,step:{months:0,days:33554432}},{region:27,zoom:{from:80.86,to:83.97},low:1,medium:2,high:3,all:25,step:{months:0,days:67108864}},{region:28,zoom:{from:83.97,to:87.08},low:1,medium:2,high:3,all:25,step:{months:0,days:134217728}},{region:29,zoom:{from:87.08,to:90.19},low:1,medium:2,high:3,all:25,step:{months:0,days:268435456}},{region:30,zoom:{from:90.19,to:93.3},low:1,medium:2,high:3,all:25,step:{months:0,days:536870912}},{region:31,zoom:{from:93.3,to:96.41},low:1,medium:2,high:3,all:25,step:{months:0,days:1073741824}},{region:32,zoom:{from:96.41,to:99.52},low:1,medium:2,high:3,all:25,step:{months:0,days:2147483648}},{region:33,zoom:{from:99.52,to:102.63},low:1,medium:2,high:3,all:25,step:{months:0,days:4294967296}},{region:34,zoom:{from:102.63,to:105.74},low:1,medium:2,high:3,all:25,step:{months:0,days:8589934592}},{region:35,zoom:{from:105.74,to:108.85},low:1,medium:2,high:3,all:25,step:{months:0,days:17179869184}},{region:36,zoom:{from:108.85,to:111.96},low:1,medium:2,high:3,all:25,step:{months:0,days:34359738368}},{region:37,zoom:{from:111.96,to:115.07},low:1,medium:2,high:3,all:25,step:{months:0,days:68719476736}},{region:38,zoom:{from:115.07,to:118.17999999999999},low:1,medium:2,high:3,all:25,step:{months:0,days:137438953472}},{region:39,zoom:{from:118.17999999999999,to:121.28999999999999},low:1,medium:2,high:3,all:25,step:{months:0,days:274877906944}},{region:40,zoom:{from:121.28999999999999,to:124.39999999999999},low:1,medium:2,high:3,all:25,step:{months:0,days:549755813888}}]},function(t,e,i){"use strict";function o(t,e){this.id=e,this.owner=t,this.isDataLoaded=!1,this.imageLoaded=!1,this.stacking=0,this.groupIndex=0,this.isActive=!1,this.isVisible=!1,this.isInRange=!1,this.isInView=!1,this.isVisibleInGroup=!1,this.isVisibleInRows=!0,this.isStarred=!1,this.isMouseOverStar=!1,this.isDragging=!1,this.registeredPosition={left:0,top:0},this.position={left:0,top:0},this.dragStartOffset={left:0,top:0},this.indicator={fromX:0,toX:0},this.offset={left:0,top:0},this.finalOffset={left:0,top:0},this.isVisibleAfterFade=!1,this.opacity=0,this.fadeAnimation={finalOpacity:0,dummyElement:void 0},this.moveAnimation={finalOffset:{left:0,top:0},dummyElement:void 0},this.row=0,this.isFading=!1,this.isMoving=!1,this.activatedHandlers=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.Article=o;var n=i(5),r=i(7),s=i(2);o.prototype.setupByReceivedData=function(t){this.data=$.extend(!0,{},t),this.title=(0,r.getPropertyFromData)(t,"title"),this.rank=(0,r.getPropertyFromData)(t,"rank")||0,this.subtitle=(0,r.getPropertyFromData)(t,"subtitle")||"",this._setupArticlePeriod(t),this.offset.left=this.finalOffset.left=this.moveAnimation.finalOffset.left=t.offsetLeft||0,this.offset.top=this.finalOffset.top=this.moveAnimation.finalOffset.top=t.offsetTop||0,this.isStarred=!!t.starred,this.isDataLoaded=!0,this.isImageInfoLoaded=!1,this.style=$.extend(!0,{},this.owner.options.article.defaultStyle,(0,r.getPropertyFromData)(t,"style")||{}),this.activeStyle=$.extend(!0,{},this.style,this.owner.options.article.defaultActiveStyle,(0,r.getPropertyFromData)(t,"activeStyle")||{}),this.hiddenByFilter=(0,r.getPropertyFromData)(t,"hiddenByFilter"),this.hidePeriodLine=(0,r.existsInData)(t,"hidePeriodLine")?(0,r.getPropertyFromData)(t,"hidePeriodLine"):this.owner.options.article.periodLine.defaultHide},o.prototype._setupArticlePeriod=function(t){var e=n.Dmy.CreateAsStartOfPeriod(parseInt((0,r.getPropertyFromData)(t,"from.year")),parseInt((0,r.getPropertyFromData)(t,"from.month")),parseInt((0,r.getPropertyFromData)(t,"from.day")),parseInt((0,r.getPropertyFromData)(t,"from.precision"))),i=(0,r.getPropertyFromData)(t,"isToPresent"),o=i===!0||1===i,s=void 0;s=o?n.Dmy.now():(0,r.existsInData)(t,"to")?n.Dmy.CreateAsEndOfPeriod(parseInt((0,r.getPropertyFromData)(t,"to.year")),parseInt((0,r.getPropertyFromData)(t,"to.month")),parseInt((0,r.getPropertyFromData)(t,"to.day")),parseInt((0,r.getPropertyFromData)(t,"to.precision"))):e,this.period={from:e,isToPresent:o,to:s.getNextDay()},this.period.years=this.period.to.asFloat()-this.period.from.asFloat()},o.prototype.setImage=function(){this.isImageInfoLoaded=!0,(0,r.getPropertyFromData)(this.data,"imageUrl")?this.owner.enqueueImageLoad(this):this.image=null},o.prototype.registerPosition=function(t){this.registeredPosition=this.position=t},o.prototype.overlaps=function(t){return t.period.from.isSame(this.period.from)&&t.period.to.isSame(this.period.to)||t.period.from.isBetween(this.period.from,this.period.to)||t.period.to.isBetween(this.period.from,this.period.to)||this.period.from.isBetween(t.period.from,t.period.to)||this.period.to.isBetween(t.period.from,t.period.to)},o.prototype.overlapsInclusiveWithDates=function(t,e){return!(this.period.from.isAfter(e)||t.isAfter(this.period.to))},o.prototype.overlapsInclusive=function(t){return this.overlapsInclusiveWithDates(t.period.from,t.period.to)},o.prototype.isInside=function(t){return this.isVisible&&t.left>=this.position.left&&t.left<=this.position.left+this._getWidth()&&t.top>=this.position.top&&t.top<=this.position.top+this.height},o.prototype.addActivatedHandler=function(t){this.activatedHandlers.push(t)},o.prototype.activated=function(){for(var t=0;t<this.activatedHandlers.length;t++)this.activatedHandlers[t].call(this)},o.prototype.updateIsMouseOverStar=function(t){var e=this.getStarBox(),i=this.isMouseOverStar;return this.isMouseOverStar=t.left>=e.left&&t.left<=e.left+e.width&&t.top>=e.top&&t.top<=e.top+e.height,this.isMouseOverStar!=i&&this.owner.redraw(),this.isMouseOverStar},o.prototype.getCursor=function(t){return this.updateIsMouseOverStar(t),this.owner.options.article.draggable&&this.isActive?this.isMouseOverStar?"pointer":"move":"pointer"},o.prototype.clicked=function(t){return this.activated(),this.updateIsMouseOverStar(t),!!this.isMouseOverStar&&(this.isStarred=!this.isStarred,this.owner.redraw(),!0)},o.prototype.getStatusForSave=function(){var t={i:this.id};return 0!=this.offset.left&&(t.l=this.offset.left),0!=this.offset.top&&(t.t=this.offset.top),this.isStarred&&(t.v=!0),t},o.prototype.headerOverlapsWith=function(t){var e=this.registeredPosition.left,i=t.registeredPosition.left,o=e+this._getWidth(),n=i+t._getWidth();return n>=e&&o>=i},o.prototype._getWidth=function(){return this._getCurrentStyle().width},o.prototype.setOption=function(t,e){var i=!1,o=!1;if("string"==typeof t){if("undefined"==typeof e){var n=(0,r.getPropertyFromData)(this.data,t);return n}t=(0,s.buildObjectFromPath)(t,e)}$.extend(!0,this.data,t),(0,r.existsInData)(t,"id")&&(this.id=t.id),(0,r.existsInData)(t,"title")&&(this.title=t.title,this.titleLines=void 0),(0,r.existsInData)(t,"subtitle")&&(this.subtitle=t.subtitle,this.summarisedSubtitle=void 0),((0,r.existsInData)(t,"from")||(0,r.existsInData)(t,"to")||(0,r.existsInData)(t,"isToPresent"))&&(this._setupArticlePeriod(this.data),i=!0),(0,r.existsInData)(t,"imageUrl")&&this.setImage(),(0,r.existsInData)(t,"rank")&&(this.rank=t.rank,i=!0),(0,r.existsInData)(t,"starred")&&(this.isStarred=t.starred),(0,r.existsInData)(t,"hiddenByFilter")&&(this.hiddenByFilter=t.hiddenByFilter),(0,r.existsInData)(t,"hidePeriodLine")&&(this.hidePeriodLine=t.hidePeriodLine),(0,r.existsInData)(t,"style")&&(this.style=$.extend(!0,{},this.owner.options.article.defaultStyle,this.data.style),this.activeStyle=$.extend(!0,{},this.style,this.owner.options.article.defaultActiveStyle,this.data.activeStyle||{}),o=!0),(0,r.existsInData)(t,"activeStyle")&&!o&&$.extend(!0,this.activeStyle,t.activeStyle),i?this.owner.defaultRedraw():this.owner.redraw()},o.prototype.setStyle=function(t,e){if("string"==typeof t){if("undefined"==typeof e)return(0,r.getPropertyFromData)(this.style,t);t=(0,s.buildObjectFromPath)(t,e)}this.data.style=$.extend(!0,this.data.style||{},t),this.style=$.extend(!0,{},this.owner.options.article.defaultStyle,this.data.style),this.activeStyle=$.extend(!0,{},this.style,this.owner.options.article.defaultActiveStyle,this.data.activeStyle||{}),(0,r.existsInData)(t,"header.text")&&(this.titleLines=void 0),(0,r.existsInData)(t,"subheader.text")&&(this.summarisedSubtitle=void 0),this.owner.redraw()},o.prototype.setActiveStyle=function(t,e){if("string"==typeof t){if("undefined"==typeof e)return(0,r.getPropertyFromData)(this.activeStyle,t);t=(0,s.buildObjectFromPath)(t,e)}this.data.activeStyle=$.extend(!0,this.data.activeStyle||{},t),$.extend(!0,this.activeStyle,t),this.owner.redraw()}},function(t,e,i){"use strict";function o(t,e,i){if("object"===("undefined"==typeof t?"undefined":a(t))){var o=t;this.year=o.year,this.month=o.month,this.day=n(o.year,o.month,o.day)}else this.year=t,this.month=e,this.day=n(t,e,i)}function n(t,e,i){return i>28?Math.min(i,r(t,e)):i}function r(t,e){return 2==e&&(t%4===0&&t%100!==0||t%400===0)?29:h[e-1]}function s(t,e){return t=t.toString(),e="string"==typeof e?e:",",t.length<=4?t:t.replace(/\B(?=(\d{3})+(?!\d))/g,e)}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.Dmy=o;var l=i(3),h=[31,28,31,30,31,30,31,31,30,31,30,31],d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];o.prototype.getDaysTo=function(t){return t.getDaysSinceYearZero()-this.getDaysSinceYearZero()},o.prototype.getMonthsTo=function(t){return 12*this.getYearsTo(t)},o.prototype.getYearsTo=function(t){var e=t.year-this.year;return e+=(t.month-this.month)/12+(t.day-this.day)/365.2422},o.prototype.getLeapYearsSinceYearZero=function(){var t=this.year;return this.month<3&&t--,Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400)},o.prototype.getDaysSinceYearZero=function(){for(var t=this.year,e=365*t+this.day,i=0;i<this.month-1;i++)e+=h[i];return e+=this.getLeapYearsSinceYearZero()},o.prototype.getDayOfYear=function(){if(isUndefined(this._dayOfYear)){this._dayOfYear=0;for(var t=1;t<this.month;t++)this._dayOfYear+=r(this.year,t);this._dayOfYear+=this.day}return this._dayOfYear},o.getByDayOfYear=function(t,e){for(var i=new o(t,1,1),n=h[0],s=0;s<e-1;s++)i.day++,i.day>n&&(i.day=1,i.month++,i.month>12&&(i.month=1,i.year++),n=2==i.month?r(i.year,i.month):h[i.month-1]);return i},o.prototype.getNextDay=function(){return this.addDays(1)},o.prototype.addDays=function(t){for(var e=this.day,i=this.month,n=this.year,s=0;s<t;s++)e++,e>r(n,i)&&(e=1,i++,i>12&&(i=1,n++));return new o(n,i,e)},o.prototype.addMonths=function(t){for(var e=this.month,i=this.year,n=0;n<t;n++)e++,e>12&&(e=1,i++);return new o(i,e,1)},o.prototype.getPreviousDay=function(){var t=this.day,e=this.month,i=this.year;return t--,t<1&&(e--,e<1&&(e=12,i--),t=r(i,e)),new o(i,e,t)},o.prototype.getNextMonth=function(){var t=this.month,e=this.year;return t++,t>12&&(t=1,e++),new o(e,t,1)},o.prototype.getPreviousMonth=function(){var t=this.month,e=this.year;return t--,t<1&&(t=12,e--),new o(e,t,1)},o.prototype.addYears=function(t){return new o(this.year+t,1,1)},o.prototype.format=function(t,e){var e=e||{},t=t||"D MMM YYYY",i=e.yearPrefix,o="string"==typeof e.bceText?e.bceText:" ʙᴄᴇ",n=this.year<=0,r=0===this.year,a=e.thousandsSeparator;if(i&&!r){var l,h=i.value||1,u=i.label||"";return l=n?s((-this.year+1)/h,a)+u+o:s(this.year/h,a)+u}return t.replace("YYYY",n?s(-this.year+1,a)+o:s(this.year,a)).replace("D",this.day).replace("MMM",d[this.month-1])},o.prototype.isSame=function(t){return t.year==this.year&&t.month==this.month&&t.day==this.day},o.prototype.toKeyString=function(){return this.year+"|"+this.month+"|"+this.day},o.prototype.isAfter=function(t){if(this.year>t.year)return!0;if(this.year==t.year){if(this.month>t.month)return!0;if(this.month==t.month)return this.day>t.day}return!1},o.prototype.isBetween=function(t,e){return this.isAfter(t)&&e.isAfter(this)},o.prototype.compare=function(t){return this.isSame(t)?0:this.isAfter(t)?1:-1},o.prototype.asFloat=function(){var t=this.month-1,e=this.day-1;return 0==t&&0==e?this.year:Math.round(100*(this.year+(31*t+e)/371))/100},o.prototype.isInFuture=function(){var t=new Date,e=new o(t.getFullYear(),t.getMonth()+1,t.getDate());return this.isAfter(e)},o.CreateAsStartOfPeriod=function(t,e,i,n){var e=e||1,i=i||1,n=n||l.PRECISION_DAY;return n===l.PRECISION_CENTURY?t<0?new o(t+1,1,1):new o(t-99,1,1):n===l.PRECISION_MILLENNIUM?t<0?new o(t+1,1,1):new o(t-999,1,1):new o(t,e,i)},o.CreateAsEndOfPeriod=function(t,e,i,n){var e=e||1,i=i||1,n=n||l.PRECISION_DAY;return n===l.PRECISION_DAY?new o(t,e,i):n===l.PRECISION_MONTH?new o(t,e,r(t,e)):n===l.PRECISION_YEAR?new o(t,12,31):n===l.PRECISION_DECADE?new o(t+9,12,31):n===l.PRECISION_CENTURY?t<0?new o(t+99+1,12,31):new o(t,12,31):n==l.PRECISION_MILLENNIUM?t<0?new o(t+999+1,12,31):new o(t,12,31):n==l.PRECISION_MILLION_YEARS?new o(t+999999,12,31):n==l.PRECISION_BILLION_YEARS?new o(t+999999999,12,31):(console.error("precision is not implemented"),new o(t,e,i))},o.now=function(){var t=new Date;return new o({year:t.getYear()+1900,month:t.getMonth()+1,day:t.getDate()})},o.fromString=function(t){var e=t.split("-"),i=""===e[0];i&&(e.shift(),e[0]="-"+e[0]);var n=parseInt(e[0]),r=parseInt(e[1])||1,s=parseInt(e[2])||1;return i&&(n+=1),new o({year:parseInt(n),month:parseInt(r),day:parseInt(s)})}},function(t,e){"use strict";function i(t,e){var i=t.period.from.getDaysTo(t.period.to),o=e.period.from.getDaysTo(e.period.to);return i<o?1:i>o?-1:parseInt(t.id)-parseInt(e.id)}function o(t,e){var i=t.period.years,o=e.period.years;return i<o?1:i>o?-1:parseInt(t.id)-parseInt(e.id)}function n(t,e){var i=t.isInView&&t.isVisible,o=e.isInView&&e.isVisible;return!i&&o?-1:i&&!o?1:t.position.top-e.position.top}function r(t,e){var i=t.period.from,o=e.period.from,n=i.compare(o);return 0==n&&(n=parseInt(e.id)-parseInt(t.id)),n}function s(t,e){var i=t.period.to,o=e.period.to,n=o.compare(i);return 0==n&&(n=parseInt(e.id)-parseInt(t.id)),n}function a(t,e){var i=t.position.top,o=e.position.top;return i<o?-1:i>o?1:parseInt(e.id)-parseInt(t.id)}function l(t,e){var i=t.row,o=e.row;return i<o?1:i>o?-1:parseInt(e.id)-parseInt(t.id)}function h(t,e){var i=t.rank,o=e.rank;return i<o?1:i>o?-1:parseInt(e.id)-parseInt(t.id)}function d(t,e){var i=t.effectiveRank,o=e.effectiveRank;return i<o?1:i>o?-1:parseInt(e.id)-parseInt(t.id)}function u(t,e){var i=t.position.left,o=e.position.left,n=i<o?1:i>o?-1:0;return 0==n&&(n=t.position.top-e.position.top,0==n&&(n=t.period.from.compare(e.period.from),0==n&&(n=parseInt(t.id)-parseInt(e.id)))),n}Object.defineProperty(e,"__esModule",{value:!0}),e.ARTICLE_DURATION_SORTER=i,e.ARTICLE_DURATION_YEARS_SORTER=o,e.ARTICLE_IMAGE_QUEUE_SORTER=n,e.ARTICLE_FROM_SORTER=r,e.ARTICLE_TO_SORTER=s,e.ARTICLE_TOP_SORTER=a,e.ARTICLE_ROW_SORTER=l,e.ARTICLE_RANK_SORTER=h,e.ARTICLE_EFFECTIVE_RANK_SORTER=d,e.ARTICLE_POSITION_SORTER=u},function(t,e,i){"use strict";function o(t,e){return t.hasOwnProperty(e)?t[e]:t[u[e]]}function n(t,e){var i=e.split(".");return i.reduce(function(t,e){return t?t[e]:void 0},t)}function r(t){return t.indexOf(".")>-1}function s(t,e){return r(e)?n(t,e):o(t,e)}function a(t,e){return r(e)?!(0,d.isUndefined)(n(t,e)):t.hasOwnProperty(e)}function l(t,e){var i="_"+e;t[i]=void 0,Object.defineProperty(t,e,{get:function(){var t=this[i];return(0,d.isFunction)(t)?t(this):t},set:function(t){this[i]=t},enumerable:!0,configurable:!1})}Object.defineProperty(e,"__esModule",{value:!0}),e.getPropertyFromData=s,e.existsInData=a;var h=i(4),d=i(2),u={id:"i",title:"t",rank:"r",subtitle:"s","from.year":"fy","from.month":"fm","from.day":"fd","from.precision":"fp","to.year":"ty","to.month":"tm","to.day":"td","to.precision":"tp",isToPresent:"p",isStarred:"v","offset.left":"ol","offset.top":"ot",imageUrl:"m",style:"st",activeStyle:"ast",hiddenByFilter:"h",hidePeriodLine:"hp"};l(h.Article.prototype,"hidePeriodLine"),l(h.Article.prototype,"hiddenByFilter")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Article=void 0;var o=i(4);i(10),i(12),i(11);e.Article=o.Article},function(t,e,i){"use strict";function o(){window.open("http://histropedia.com/histropediajs/index.html","_blank")}function n(){window.open("http://histropedia.com/histropediajs/licence.html","_blank")}function r(t,e){return t.left>=e.left&&t.left<=e.left+e.width&&t.top>=e.top&&t.top<=e.top+e.height}Object.defineProperty(e,"__esModule",{value:!0}),e.handleHistropediaJSLinkClick=o,e.handleTermsLinkClick=n;var s=i(1),a=i(2),l=5,h=5,d=34,u=i(26),c="data:image/png;base64,"+u;s.Timeline.prototype._drawBranding=function(t){this._drawLogo(t),this._drawCopyrightLinks(t)},s.Timeline.prototype._drawLogo=function(t){(0,a.isUndefined)(this.logo)?(this.logo=new Image,this.logo.onload=this._drawLogoImage.bind(this,t),this.logo.src=c):this._drawLogoImage(t)},s.Timeline.prototype._drawLogoImage=function(t,e){t.drawImage(this.logo,l,this.top-Math.floor(this.options.style.mainLine.size/2)-d-h)};var f=100,p=18,g=3,m=3,v=10,y=1,A=10,w="HistropediaJS",I=63,S="Terms",M=27,O=10,T=w+" | "+S;s.Timeline.prototype._drawCopyrightLinks=function(t){t.beginPath(),t.fillStyle="rgba(255, 255, 255, 0.8)",t.fillRect(this.width-f-g-2*v,this.top-Math.floor(this.options.style.mainLine.size/2)-p-m-2*y,f+2*v,p+2*y),t.textBaseline="middle",t.fillStyle="#000000",t.font="normal "+A+'px "Helvetica Neue", Helvetica, Arial, sans-serif';var e=this._getBrandingTextCoords();t.fillText(T,e.left,e.top,f+v)},s.Timeline.prototype._getBrandingTextCoords=function(){return{left:this.width-f-g-v,
top:this.top-Math.floor(this.options.style.mainLine.size/2)-p-m+A-y}},s.Timeline.prototype._isInsideHistropediaJSLink=function(t){var e=this._getBrandingTextCoords();return r(t,{left:e.left,top:e.top-A/2,width:I,height:A})},s.Timeline.prototype._isInsideTermsLink=function(t){var e=this._getBrandingTextCoords();return r(t,{left:e.left+I+O,top:e.top-A/2,width:M,height:A})}},function(t,e,i){"use strict";var o=i(4);i(2);o.Article.prototype.updateVisibility=function(){var t=this.isVisibleAfterFade,e=this.isInRange&&this.isVisibleInGroup&&this.isVisibleInRows&&!this.isHiddenByFilter;if(t!=e)return e&&!this.isImageInfoLoaded&&this.setImage(),this.owner.options.article.animation.fade.active?void this.setVisibilityWithFade(e):void this.setVisibility(e)},o.Article.prototype.setVisibility=function(t){this.isVisible=this.isVisibleAfterFade=this.opacity=t},o.Article.prototype.setVisibilityWithFade=function(t,e){var i=this;if(t!=i.isVisibleAfterFade){i.isFading&&i.fadeAnimation.dummyElement.stop(),i.isFading=!0,t&&(i.isVisible=!0);var o=this.fadeAnimation;i.isVisibleAfterFade=o.finalOpacity=t;i.owner.options.article.animation.fade.duration;i.isInView&&i.owner.notifyAnimationStarted("fade",i.id);var n=i.owner.options.article.animation.fade,r=$("<span />").css("left",i.opacity);o.dummyElement=r.animate({left:o.finalOpacity},{duration:n.duration,easing:n.easing,step:function(t,e){i.opacity=t,i.id==i.owner.lastAnimatingArticle.id&&i.owner.redraw()},complete:function(){i.isFading=!1,0==t&&(i.isVisible=!1),i.id==i.owner.lastAnimatingArticle.id&&e&&i.owner.defaultRedraw(!0)}})}},o.Article.prototype.moveToOffset=function(t,e){this.finalOffset.top=this.offset.top=t.top||this.offset.top,this.finalOffset.left=this.offset.left=t.left||this.offset.left,this.position.top=this.registeredPosition.top+this.offset.top,this.position.left=this.registeredPosition.left+this.offset.left,e&&this.owner.defaultRedraw()},o.Article.prototype.moveTo=function(t,e){var i={left:t.left-this.registeredPosition.left,top:t.top-this.registeredPosition.top};this.moveToOffset(i),e&&this.owner.defaultRedraw()},o.Article.prototype.moveToWithAnim=function(t){var e={left:t.left-this.registeredPosition.left,top:t.top-this.registeredPosition.top};this.moveToOffsetWithAnim(e)},o.Article.prototype.moveToOffsetWithAnim=function(t,e){var i=this,o=i.moveAnimation;if(t.top!=o.finalOffset.top||t.left!=o.finalOffset.left){o.finalOffset={left:t.left,top:t.top},i.isMoving&&o.dummyElement.stop(),i.isMoving=!0,i.isInView&&i.owner.notifyAnimationStarted("move",i.id);var n=i.owner.options.article.animation.move,r=$("<span />").css("top",i.offset.top).css("left",i.offset.left);o.dummyElement=r.animate({top:t.top,left:t.left},{duration:n.duration,easing:n.easing,step:function(t,e){i.offset.top=parseInt(r.css("top")),i.offset.left=parseInt(r.css("left")),i.position.top=i.registeredPosition.top+i.offset.top,i.position.left=i.registeredPosition.left+i.offset.left,i.id!=i.owner.lastAnimatingArticle.id||i.owner.isDragging||i.owner.redraw()},complete:function(){i.isMoving=!1,i.id==i.owner.lastAnimatingArticle.id&&e&&i.owner.defaultRedraw(!0)}})}}},function(t,e,i){"use strict";var o=i(4);o.Article.prototype.startDragging=function(t){this.isMoving&&this.moveAnimation.dummyElement.stop(),this.isDragging=!0,this.dragStartOffset={left:t.left-this.position.left,top:t.top-this.position.top}},o.Article.prototype.stopDragging=function(){this.offset=this.finalOffset=this.moveAnimation.finalOffset={left:this.position.left-this.registeredPosition.left,top:this.position.top-this.registeredPosition.top}},o.Article.prototype.dragging=function(t){this.position={left:t.left-this.dragStartOffset.left,top:t.top-this.dragStartOffset.top},this.owner.redraw()}},function(t,e,i){"use strict";var o=i(4),n=i(2),r=i(25);o.Article.prototype.draw=function(t){if(this.isDataLoaded&&!isNaN(this.position.left)){t.globalAlpha=this.owner.options.article.animation.fade.active?this.opacity:1;var e=this._getCurrentStyle(),i={top:Math.floor(this.position.top),left:Math.floor(this.position.left),width:this._getWidth(),height:this.height},o={left:i.left+e.border.width/2,top:i.top+e.border.width/2,width:i.width-e.border.width,height:i.height-e.border.width};e.shadow&&(t.shadowOffsetX=e.shadow.x,t.shadowOffsetY=e.shadow.y,t.shadowBlur=e.shadow.amount,t.shadowColor=e.shadow.color,t.fillStyle="#fff",t.fillRect(i.left,i.top+e.topRadius,i.width,i.height-e.topRadius),(0,r.noShadow)(t)),t.save(),t.beginPath(),(0,r.topRoundRectPath)(t,i.left,i.top,i.width,i.height,e.topRadius),t.clip();var s=e.header.height,a=e.subheader.height;t.fillStyle=e.color,t.fillRect(i.left,i.top,i.width,Math.ceil(s+e.border.width/2)),t.restore(),t.fillStyle=e.subheader.color,t.fillRect(i.left,o.top+s,i.width,a),t.beginPath(),t.lineWidth=1,t.moveTo(o.left+5,o.top+s+1),t.lineTo(o.left+10,o.top+s-5),t.lineTo(o.left+15,o.top+s+1),t.closePath(),t.fill(),t.fillStyle=e.header.text.color,t.font=e.header.text.font,t.textAlign="left",t.textBaseline="middle";var l=e.header.text.margin,h=e.header.text.lineHeight,d=o.width-2*l,u=e.header.text.numberOfLines;(0,n.isUndefined)(this.titleLines)&&(this.titleLines=(0,r.wrapText)(t,this.title,d),this.titleLines.length>u&&(this.titleLines[u-1]=(0,r.squeezeEllipsis)(t,this.titleLines[u-1],d)));for(var c=Math.min(u,this.titleLines.length),f=(c-1)*h,p=s,g=o.top-(f-p)/2,m=0;m<c;m++)t.fillText(this.titleLines[m],o.left+l,g,d),g+=h;var v=e.subheader.text.margin,y=o.width-2*v;if(t.textBaseline="middle",t.fillStyle=e.subheader.text.color,t.font=e.subheader.text.font,(0,n.isUndefined)(this.summarisedSubtitle)&&(this.summarisedSubtitle=(0,r.summarize)(t,this.subtitle,y)),t.fillText(this.summarisedSubtitle,o.left+v,o.top+s+a/2,y),this.imageLoaded){var A=s+e.subheader.height,w=o.width,I=o.height-A,S=o.left,M=o.top+A;t.fillStyle="#111",t.strokeStyle="#111",t.fillRect(S,M,w,I),t.drawImage(this.image,S,M,w,I)}if(e.border.width>0&&(t.beginPath(),(0,r.topRoundRectPath)(t,i.left,i.top,i.width,i.height,e.topRadius),t.lineWidth=e.border.width,t.strokeStyle=e.border.color,t.stroke()),this.isActive||this.isStarred){var O,T,b=this.getStarBox();this.isStarred?this.isMouseOverStar?(O="#8A8A8A",T="#fff800"):(O="#a5a5a5",T="#fff800"):this.isMouseOverStar?(O="#8A8A8A",T="#dfdfdf"):(O="#a5a5a5",T="#ebebeb"),(0,r.drawStar)(t,b.centreX,b.centreY,5,b.innerRadius,b.outerRadius,T,O)}}},o.Article.prototype._getCurrentStyle=function(){return this.isActive?this.activeStyle:this.style},o.Article.prototype.drawPeriodLinesAndConnectors=function(t,e){t.globalAlpha=this.owner.options.article.animation.fade.active?this.opacity:1;var i=this._getCurrentStyle(),o=this.hidePeriodLine?0:this.owner.options.article.periodLine.spacing,n=this.hidePeriodLine?0:this.owner.options.article.periodLine.thickness,r=(o+n)*this.stacking,s=e-r-this.owner.options.style.mainLine.size/2-n/2;if(!this.hidePeriodLine){var a=this.indicator.fromX,l=this.indicator.toX;if(t.beginPath(),t.lineWidth=n,t.moveTo(a,s),t.lineTo(l,s),this.period.isToPresent){var h=l-a,d=15,u=Math.max(1-d/h,.7),c=t.createLinearGradient(a,s,l,s);c.addColorStop(0,i.color),c.addColorStop(u,i.color),c.addColorStop(1,"rgba(255,255,255,0)"),t.strokeStyle=c}else t.strokeStyle=i.color;t.stroke()}var f=Math.max(0,this.indicator.fromX),p=s,g=this.position.left+i.connectorLine.offsetX,m=this.position.top+this.height+i.connectorLine.offsetY;t.strokeStyle=t.fillStyle=i.color,t.lineWidth=i.connectorLine.thickness,t.beginPath(),t.moveTo(f,p),t.lineTo(g,m),t.stroke();var v=Math.atan((m-p)/(g-f))+(g>=f?-90:90)*Math.PI/180;t.save(),t.beginPath(),t.translate(g,m),t.rotate(v),t.moveTo(-i.connectorLine.arrow.width,0),t.lineTo(i.connectorLine.arrow.width,0),t.lineTo(0,-i.connectorLine.arrow.height),t.closePath(),t.restore(),t.fill()},o.Article.prototype.getStarBox=function(){var t=this._getCurrentStyle(),e=t.star.width,i={width:e,height:e};return i.left=Math.floor(this.position.left)-t.topRadius/4+this._getWidth()-i.width-t.star.margin,i.top=Math.floor(this.position.top)+t.topRadius/4+t.star.margin,i.centreX=i.left+i.width/2,i.centreY=i.top+i.height/2,i.outerRadius=i.width/2,i.innerRadius=i.outerRadius/2,i},o.Article.prototype.adjustHeightFromLoadedImage=function(){var t=this._getCurrentStyle(),e=0;if(this.imageLoaded){var i=this._getWidth()/this.image.width;e=Math.min(this.image.height*i,t.maxImageHeight)}var o=t.header.height+t.subheader.height+t.border.width/2;this.height=e+o}},function(t,e,i){"use strict";var o=i(1);i(3);o.Timeline.prototype.switchToPositiveRepositionWindow=function(){if(this.repositionWindow<0){var t=this.timescaleManager.startToken;this.repositionWindow=t.length+this.repositionWindow,t=this.timescaleManager.getNext(t),this.timescaleManager.setStartToken(t)}},o.Timeline.prototype.zoomToAnim=function(t,e){var i=$("<span />").css("left",this.timescaleManager.zoom),o=this;i.animate({left:t},{duration:2e3,step:function(t,e){o.setZoom(t),o.invalidated()},complete:function(){e&&e.call(o)}})},o.Timeline.prototype.goToDateAnim=function(t,e){e=e||{};var i=$("<span />").css("left",0),o=1e8,n=!1;this.switchToPositiveRepositionWindow();var r=this.repositionWindow-this.timescaleManager.getPixelsBetween(t,this.timescaleManager.startToken.value);e.offsetX&&(r-=e.offsetX),Math.abs(r)>o&&(r=Math.sign(r)*o,n=!0);var s=this,a=0;i.animate({left:r},{duration:e.duration||2e3,easing:"swing",step:function(t,e){var i=t-a;a=t,s.updateFromByPixels(i),s.defaultRedraw()},complete:function(){n&&s.setStartDate(t),e.complete&&e.complete.call(s)}})},o.Timeline.prototype.repositionWithAnim=function(t){var e=this.getOriginalPosition(t);t.registeredPosition=e;var i={left:e.left+t.dragFinishOffset.left,top:e.top+t.dragFinishOffset.top};t.moveToWithAnim(i)},o.Timeline.prototype.notifyAnimationStarted=function(t,e){var i=(new Date).getTime(),o=this.options.article.animation[t].duration,n=i+o;n>this.lastAnimatingArticle.endTime&&(this.lastAnimatingArticle.id=e,this.lastAnimatingArticle.endTime=n)},o.Timeline.prototype.toggleAutoFit=function(){var t=this.options.article.autoStacking.fitToHeight=!this.options.article.autoStacking.fitToHeight;return t&&this.fitToHeight(!0),t},o.Timeline.prototype.fitToHeight=function(t){var e=this.topRow+1;if(1!==e){var i=this.options.article.autoStacking.rowSpacing=this.getFitToHeightRowSpacing();return t&&this.defaultRedraw(),i}},o.Timeline.prototype.getFitToHeightRowSpacing=function(){var t=this.options,e=this.top-t.article.distanceToMainLine,i=t.article.autoStacking.topGap,o=this.topRow;if(0==o)return!1;var n=Math.abs(e-i),r=o;return Math.max(Math.round(n/r),1)},o.Timeline.prototype.incrementRowSpacing=function(t,e){return this.options.article.rowSpacing=Math.max(this.options.article.rowSpacing+t,1),e&&this.defaultRedraw(),this.options.article.rowSpacing}},function(t,e,i){"use strict";var o=i(1),n=i(2);o.Timeline.prototype.getActiveArticle=function(){for(var t=this.articles.length-1;t>=0;t--)if(this.articles[t].isActive)return this.articles[t];return null},o.Timeline.prototype.getArticleById=function(t){for(var e=0;e<this.articles.length;e++){var i=this.articles[e];if(i.id==t)return i}},o.Timeline.prototype.bringFront=function(t){var e=(0,n.getIndexById)(this.articles,t);e>=0&&(0,n.moveInArray)(this.articles,e,this.articles.length-1),this.updateIsActiveStatus(),this.save()},o.Timeline.prototype.updateIsActiveStatus=function(){for(var t=0;t<this.articles.length;t++)this.articles[t].isActive=!1;for(var t=this.articles.length-1;t>=0;t--)if(this.articles[t].isDataLoaded)return void(this.articles[t].isActive=!0)},o.Timeline.prototype.getVisibleArticlesClone=function(){for(var t=[],e=0;e<this.articles.length;e++){var i=this.articles[e];i.isVisible&&i.isDataLoaded&&t.push(i)}return t},o.Timeline.prototype.hasArticle=function(t){for(var e,i=0;i<this.articles.length;i++)this.articles[i].id===t&&(e=this.articles[i]);return!isUndefined(e)},o.Timeline.prototype.reposition=function(t,e){var i=this.getOriginalPosition(t,e);t.registeredPosition=i;var o=t.finalOffset;return this.options.article.animation.move.active?void(t.moveAnimation.finalOffset.top!=o.top||t.moveAnimation.finalOffset.left!=o.left?t.moveToOffsetWithAnim(o,!0):t.position={left:i.left+t.offset.left,top:i.top+t.offset.top}):(t.position={left:i.left+o.left,top:i.top+o.top},void(t.offset={left:o.left,top:o.top}))},o.Timeline.prototype.getOriginalPosition=function(t,e){var i=this.getPixel(t.period.from,e),o=this.getPixel(t.period.to,e),n=isNaN(i)||i<0,r=isNaN(o)||o>0;this.options.article.collectOngoing&&n&&r&&(i=0);var s=t._getCurrentStyle();return{left:i-s.connectorLine.offsetX,top:this.top-this.options.article.distanceToMainLine}},o.Timeline.prototype.reorderArticles=function(t){for(var e=[],i=0;i<t.length;i++){var o=(0,n.getIndexById)(this.articles,t[i]);e.push(this.articles[o])}this.articles=e},o.Timeline.prototype.getSortedByYearClone=function(){},o.Timeline.prototype.removeArticleById=function(t){for(var e=0;e<this.articles.length;e++)this.articles[e].id==t&&this.articles.splice(e,1)},o.Timeline.prototype.deleteCurrentArticle=function(){if(0!=this.articles.length){this.removeById(this.articles,this.getActiveArticle().id),this.defaultRedraw();for(var t=this.articles.length-1;t>=0;t--){var e=this.articles[t];if(e.isVisible)return this.bringFront(e.id),this.activated(this.getActiveArticle()),void this.defaultRedraw()}}},o.Timeline.prototype.pp=function(t){for(var e="",i=0;i<this.articles.length;i++)e+=this.articles[i].title.split(" ")[0]+",";t=t||"",console.log(t+":"+e)}},function(t,e,i){"use strict";var o=i(1),n=i(8),r=i(7);o.Timeline.prototype.load=function(t){this.addArticles(t),this.updateCurrentDensitySetting(),this.updateArticlesGroupIndex(),this.defaultRedraw()},o.Timeline.prototype.addArticles=function(t,e,i){if(0==t.length)return void(i&&i.call(this));for(var o=this.articles.map(function(t){return t.id}),s=[],a=0;a<t.length;a++){var l=t[a];o.indexOf((0,r.getPropertyFromData)(l,"id"))===-1&&s.push(l)}for(var h=this,a=0;a<s.length;a++){var l=new n.Article(this,(0,r.getPropertyFromData)(s[a],"id"));this.articles.push(l),l.addActivatedHandler(function(){h.activated(this)}),l.setupByReceivedData(s[a]),l.registerPosition(this.getOriginalPosition(l))}this.updateIsActiveStatus(),i&&i.call(this)}},function(t,e,i){"use strict";var o=i(1),n=i(9),r=i(2);o.Timeline.prototype.enableDragging=function(){function t(t,e){var i=2;return!(Math.abs(t.left-e.left)>i||Math.abs(t.top-e.top)>i)}function e(t){if((0,r.clearSelection)(),t.preventDefault(),t.originalEvent.touches&&t.originalEvent.touches.length>1)return void s(t);var e=l.relativePos=a.getRelativePosition(t);a.options.disableBranding||(l.isHjsClick=a._isInsideHistropediaJSLink(e),l.isTermsClick=a._isInsideTermsLink(e));var i=Date.now();if(i-l.time<500&&(l.isDoubleClick=!0),l.time=i,!l.isHjsClick&&!l.isTermsClick)for(var o=a.articles.length-1;o>=0;o--){var n=a.articles[o];if(n.isVisible&&n.isInside(e)){if(l.isDoubleClick&&null!==l.article&&n.id===l.article.id&&(l.isArticleDoubleClick=!0),l.isArticleClick=!0,l.article=n,n.isActive&&a.options.article.draggable)return n.startDragging(e),void(a.draggingArticle=n);break}}if(null===a.draggingArticle&&a.isInVicinity(t,a.options.draggingVicinity,e)){a.isDragging=!0;var h=l.pagePos=(0,r.extractPagePosition)(t);a.dragStartX=h.left,a.dragStartY=h.top}}function i(e){if(a.isPinching&&e.originalEvent.touches.length<2)return e.originalEvent.touches[0]&&(a.dragStartX=e.originalEvent.touches[0].pageX),void(a.isPinching=!1);var i=a.getRelativePosition(e);if(null!==l.relativePos&&t(l.relativePos,i)){if(l.isHjsClick)(0,n.handleHistropediaJSLinkClick)(),l.isHjsClick=!1;else if(l.isTermsClick)(0,n.handleTermsLinkClick)(),l.isHjsClick=!1;else if(l.isArticleClick){a.bringFront(l.article.id);l.article.clicked(l.relativePos);a.canvas.css("cursor",l.article.getCursor(i)),l.isArticleClick=!1,l.isArticleDoubleClick&&(a.articleDoubleClicked(l.article),l.isArticleDoubleClick=!1)}else a.backgroundClicked(e,l.isDoubleClick);l.isDoubleClick=!1}null!==a.draggingArticle?(a.draggingArticle.stopDragging(),a.draggingArticle=null):a.isDragging&&(a.isDragging=!1),a.redraw()}function o(t){if(a.isPinching){var e=a.timescaleManager.zoomOptions.ratio,i=h.centre.x;h.centre=a.getRelativeCoordinates((0,r.extractPinchCentre)(t)),h.scale=(0,r.getTouchDistance)(t)/h.initial.distance;var o=Math.log(h.scale)/Math.log(e),n=i-h.centre.x;a.setZoom(h.initial.zoom+o,h.centre.x,n)}else if(a.isDragging){var s=(0,r.extractPagePosition)(t),d=a.dragStartX-s.left;a.dragStartY-s.top;a.dragStartX=s.left;var u=Math.abs(l.pagePos.left-s.left)<30;a.doDrag(d,u)}else if(null!==a.draggingArticle){var c=a.getRelativePosition(t);a.draggingArticle.dragging(c)}}function s(t){!t.originalEvent.touches||t.originalEvent.touches.length<2||(h.centre=a.getRelativeCoordinates((0,r.extractPinchCentre)(t)),h.initial.distance=(0,r.getTouchDistance)(t),h.initial.zoom=a.timescaleManager.zoom,a.isPinching=!0)}var a=this,l={relativePos:null,pagePos:null,time:0,isDoubleClick:!1,isArticleClick:!1,isArticleDoubleClick:!1,isTermsClick:!1,isHjsClick:!1,article:null},h={initial:{distance:0,zoom:0},centre:{},scale:1};this.canvas.on("mousedown touchstart",e),$(document).on("mouseup touchend",i),$(document).on("mousemove touchmove",o)},o.Timeline.prototype.doDrag=function(t,e){this.updateFromByPixels(t),this.defaultRedraw(e)},o.Timeline.prototype.updateFromByPixels=function(t){this.repositionWindow-=t;for(var e=this.timescaleManager.startToken,i=this.timescaleManager.getPrevious(e);this.repositionWindow>=i.length;)this.repositionWindow-=i.length,e=i,i=this.timescaleManager.getPrevious(e);for(;-this.repositionWindow>=e.length;)this.repositionWindow+=e.length,e=this.timescaleManager.getNext(e);this.timescaleManager.setStartToken(e)}},function(t,e,i){"use strict";var o=i(1);i(9);var n=i(3),r=i(6);o.Timeline.prototype.defaultRedraw=function(t){this.redraw({onArticlesInRangeIsReady:function(e){this.updateVisibleArticlesOfGroups(e),this.forInRangeArticles(function(t){this.reposition(t,e)}),t||this.stack(e)},onArticlesVisiblityIsReady:function(t){this.updateArticleLines()}})},o.Timeline.prototype.redraw=function(t){if(!this.redrawInProgress){this.redrawInProgress=!0;var e=this.topRow;t=t||{};var i={},o=this.canvasContext,s=this.getWidth(),a=this.top;this.owner||o.clearRect(0,0,s,this.top+this.options.verticalOffset),i.tokens=this.drawMainLine(o,a,s),this.invoke("onMainRangeIsReady",t,i),this.forLoadedArticles(function(t){t.isInView=t.overlapsInclusiveWithDates(i.tokens.start,i.tokens.end),this.options.article.autoStacking.range==n.RANGE_SCREEN?t.isInRange=t.isInView:t.isInRange=!0,t.isInRange&&(t.isHiddenByFilter=t.hiddenByFilter)}),this.invoke("onArticlesInRangeIsReady",t,i),this.forLoadedArticles(function(t){t.updateVisibility()}),this.articleImageLoadQueue.sort(r.ARTICLE_IMAGE_QUEUE_SORTER),this.invoke("onArticlesVisiblityIsReady",t,i),this.forInRangeArticles(function(t){t.indicator={fromX:Math.max(-3,Math.round(this.getPixel(t.period.from,i))),toX:Math.min(this.options.width,Math.round(this.getPixel(t.period.to,i)))},t.indicator.toX-t.indicator.fromX<2&&(t.indicator.toX=t.indicator.fromX+2),t.adjustHeightFromLoadedImage()});var l=this.options.style.mainLine.size>>1;o.beginPath(),this.forInRangeArticles(function(t){!t.isHiddenByFilter&&t.isInView&&(o.moveTo(t.indicator.fromX,a-l),o.lineTo(t.indicator.fromX,a+l))}),o.lineWidth=3,o.globalAlpha=.75,o.strokeStyle="#303030",o.stroke(),o.globalAlpha=1;for(var h=0;h<this.articles.length;h++){var d=this.articles[h];d.isDataLoaded&&d.isVisible&&!d.isActive&&d.drawPeriodLinesAndConnectors(o,a)}for(var u=0;u<this.articles.length;u++){var d=this.articles[u];d.isDataLoaded&&d.isVisible&&!d.isActive&&d.draw(o)}var c=this.getActiveArticle();c&&c.isVisible&&(c.drawPeriodLinesAndConnectors(o,a),c.draw(o)),this.options.disableBranding||(o.globalAlpha=1,this._drawBranding(o)),this.redrawInProgress=!1,this.options.article.autoStacking.fitToHeight&&e!==this.topRow&&this.fitToHeight(!0)}},o.Timeline.prototype.drawMainLine=function(t,e,i,o){var r={},s={};s[n.MAJOR_MARKER]=[],s[n.MINOR_MARKER]=[];var a=this.options.style.mainLine.size>>1;if(t.globalAlpha=1,this.isDragging&&this.options.style.draggingHighlight.visible){t.fillStyle=this.options.style.draggingHighlight.color;var l=this.options.style.draggingHighlight.area;t.fillRect(0,e-l.up,i,l.up+l.down)}var h=this.repositionWindow,d=this.timescaleManager.startToken;r.start=d.value;var u=d,c=9,d=this.timescaleManager.getPreviousNth(d,c);h-=d.length*c;do r[d.value.toKeyString()]=d.drawX=h,s[d.type].push(d),h+=d.length,u=d,d=this.timescaleManager.getNext(d);while(h<i+150);if(r.end=u.value,this.options.style.mainLine.visible){var f=t.createLinearGradient(0,e-a,0,e+a);f.addColorStop(0,"#808080"),f.addColorStop(1,"#ccc"),t.beginPath(),t.lineWidth=this.options.style.mainLine.size,t.strokeStyle=t.fillStyle=f,t.moveTo(0,e),t.lineTo(i,e),t.stroke();for(var p in s)this.drawMarkersAndLabels(t,s[p],p,e+a)}return r},o.Timeline.prototype.drawMarkersAndLabels=function(t,e,i,o){if(0!==e.length){switch(i){case JSON.stringify(n.MINOR_MARKER):i="minor";break;case JSON.stringify(n.MAJOR_MARKER):i="major";break;default:console.log("token type not recognised",i,n.MINOR_MARKER)}var r=this.options.style.marker[i],s=r.height,a=!!e[0].label,l=e[0].value.isInFuture(),h=!l;if(a){var d=this.options.style.dateLabel[i];t.font=d.font,t.textAlign=d.textAlign,t.textBaseline="alphabetic";var u=o+s+d.offset.y}t.beginPath();for(var c=0;c<e.length;c++){var f=e[c];l=f.value.isInFuture(),h&&l&&(h=!1,t.strokeStyle=r.color,t.lineWidth=1,t.stroke(),t.beginPath());var p=Math.round(f.drawX);if(t.moveTo(p,o),t.lineTo(p,o+s),a&&f.label){var g=p+d.offset.x;t.fillStyle=l?d.futureColor:d.color,t.fillText(f.label,g,u)}}t.strokeStyle=l?r.futureColor:r.color,t.lineWidth=1,t.stroke()}}},function(t,e,i){"use strict";var o=i(1),n=i(3),r=i(2);o.Timeline.prototype.updateArticlesGroupIndex=function(){this.forLoadedArticles(function(t){t.groupIndex=this.calculateGroupIndex(t.period.from)})},o.Timeline.prototype.updateVisibleArticlesOfGroups=function(t){this.groups={};var e=this.options.article.autoStacking.range==n.RANGE_SCREEN?1:20,i=this.calculateGroupIndex(t.tokens.start)-e,o=this.calculateGroupIndex(t.tokens.end)+e;this.forLoadedArticles(function(t){t.isVisibleInGroup=!1});for(var r=i;r<=o;r++)this.groups[r]=this.getArticlesInGroup(r,i,o).map(function(t){return t.isVisibleInGroup=!0,t.id})};var s=1e7,a=2e7;o.Timeline.prototype.getArticlesInGroup=function(t,e,i){function o(t){var e=t.rank;return t.isActive?e+=a:t.isStarred&&(e+=s),e}for(var n=this.getDensityPick(),l=[],h=0,d=0;d<this.articles.length;d++){var u=this.articles[d];if(u.isDataLoaded&&!u.isHiddenByFilter){var c=(0,r.bind)(u.groupIndex,e,i)===t;c&&(u.effectiveRank=o(u),l.length<n?(l.push(u),u.effectiveRank<l[h].effectiveRank&&(h=l.length-1)):u.effectiveRank>l[h].effectiveRank&&(l[h]=u,h=(0,r.findMinIndex)(l,"effectiveRank")))}}return l},o.Timeline.prototype.calculateGroupIndex=function(t){if(this.timescaleManager.unit>=n.ZOOM_MONTH&&0!==this.currentDensitySetting.step.months){var e=12*t.year+(t.month-1);return Math.floor(e/this.currentDensitySetting.step.months)}var e=372*t.year+31*(t.month-1)+t.day;return 0===this.currentDensitySetting.step.days?Math.floor(e/(30*this.currentDensitySetting.step.months)):Math.floor(e/this.currentDensitySetting.step.days)},o.Timeline.prototype.canBeVisibleInGroup=function(t,e,i){if(t.isActive)return!0;e=e||this.timescaleManager.startToken,i=i||this.calculateEndToken();var o=this.calculateGroupIndex(e.value)-1,n=this.calculateGroupIndex(i.value)+1,s=(0,r.bind)(t.groupIndex,o,n);return!!this.groups.hasOwnProperty(s)&&this.groups[s].indexOf(t.id)>=0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Timeline=void 0;var o=i(1);i(18),i(16),i(15),i(14),i(17),i(21),i(22),i(23),i(13);e.Timeline=o.Timeline},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var o=i(3),n=i(6);e.DEFAULT_OPTIONS={width:1e3,height:500,verticalOffset:40,enableUserControl:!0,enableCursor:!0,zoom:{initial:34,minimum:0,maximum:123,wheelStep:.1,wheelSpeed:1,ratio:.8,unitSize:{initial:200,showMinorLabels:48,minimum:8}},initialDate:{year:1990,month:1,day:1},draggingVicinity:{up:460,down:40},style:{mainLine:{visible:!0,size:7},draggingHighlight:{visible:!0,color:"rgba(237, 247, 255, 0.5)",area:{up:0,down:40}},marker:{minor:{height:12,color:"#6097f2",futureColor:"#ccc"},major:{height:30,color:"#0c3a88",futureColor:"#ccc"}},dateLabel:{minor:{font:"normal 10px Calibri",color:"#333",futureColor:"#ccc",textAlign:"start",offset:{x:4,y:0},bceText:"",thousandsSeparator:",",yearPrefixes:{ka:{label:"ka",value:1e3,minDivision:1e3},Ma:{label:"Ma",value:1e6,minDivision:1e5},Ga:{label:"Ga",value:1e9,minDivision:1e8}}},major:{font:"normal 16px Calibri",color:"#000",futureColor:"#ccc",textAlign:"start",offset:{x:4,y:0},bceText:" ʙᴄᴇ",thousandsSeparator:",",yearPrefixes:{ka:{label:"ka",value:1e3,minDivision:1e5},Ma:{label:"Ma",value:1e6,minDivision:1e6},Ga:{label:"Ga",value:1e9,minDivision:1e9}}}}},article:{density:o.DENSITY_ALL,draggable:!0,distanceToMainLine:350,collectOngoing:!1,autoStacking:{active:!0,rowSpacing:50,range:o.RANGE_ALL,fitToHeight:!0,topGap:10},periodLine:{defaultHide:!1,spacing:4,thickness:10,stacking:{sorter:n.ARTICLE_FROM_SORTER,reverseOrder:!1}},animation:{fade:{active:!0,duration:1500,easing:"swing"},move:{active:!0,duration:1500,easing:"swing"}},defaultStyle:{width:150,color:"#e9e9e9",topRadius:3,maxImageHeight:400,header:{height:50,text:{margin:10,font:"normal 14px 'Segoe UI'",color:"#333",lineHeight:18,numberOfLines:2}},subheader:{height:30,color:"#555",text:{font:"normal 11px 'Segoe UI'",color:"#eee",margin:10}},shadow:{x:0,y:0,amount:0,color:"#000"},border:{color:"#ddd",width:1},connectorLine:{offsetX:18,offsetY:-20,thickness:1,arrow:{width:16,height:45}},star:{width:16,margin:3}},defaultActiveStyle:{color:"#337ab7",header:{text:{color:"#fff"}},subheader:{color:"#333"},shadow:{x:3,y:3,amount:5,color:"#333"},border:{width:2,color:"#2e6da4"},connectorLine:{thickness:2}}}}},function(t,e,i){"use strict";var o=i(1),n=i(6);o.Timeline.prototype.updateArticleLines=function(){function t(t){var e=[];return i.forVisibleArticles(function(t){t.hidePeriodLine||(e.push(t),e[e.length-1].stacking=-1)}),e.sort(i.options.article.periodLine.stacking.sorter),i.options.article.periodLine.stacking.reverseOrder&&e.reverse(),e}function e(t,e){for(var i=0;i<e.length;i++)if(t.overlaps(e[i]))return!1;return!0}var i=this,o=t(this.articles),n=0,r=[];do{r[n]=[];for(var s=!1,a=0;a<o.length;a++){var l=o[a];l.stacking>=0||e(l,r[n])&&(r[n].push(l),l.stacking=n,s=!0)}n++}while(s)},o.Timeline.prototype.stack=function(t){function e(t){for(var e,i=[],o=[],r=0;r<t.length;r++){var s=t[r];s.isDataLoaded&&s.isInRange&&s.isVisibleInGroup&&!s.isHiddenByFilter&&(s.isActive?e=s:s.isStarred?i.push(s):o.push(s))}return i.sort(n.ARTICLE_RANK_SORTER),o.sort(n.ARTICLE_RANK_SORTER),[].concat(e?e:[],i,o)}function i(t,e){for(var i=0;i<t.length;i++){var o=t[i];if(e.headerOverlapsWith(o))return!1}return!0}function o(t,e){for(var o=0;o<t.length;o++)if(i(t[o],e))return o;return t.length}function r(t,e){var i=o(t,e);return i>=t.length&&(t[i]=[]),t[i].push(e),!0}if(0!=this.articles.length){var s=this.options.article.autoStacking.rowSpacing;if(this.options.article.autoStacking.active){for(var a=e(this.articles),l=[],h=0;h<a.length;h++)a[h].isVisibleInRows=r(l,a[h]);this.topRow=0;for(var d=0;d<l.length;d++)for(var h=0;h<l[d].length;h++){var u=l[d][h];u.finalOffset={left:0,top:d*-s},u.row=d,u.isInView&&(this.topRow=Math.max(this.topRow,d)),this.reposition(u,t)}var c=this.getActiveArticle();this.articles.sort(n.ARTICLE_ROW_SORTER),c&&this.bringFront(c.id)}}},o.Timeline.prototype.isInManualStackingMode=function(){return 0==this.options.article.rowSpacing},o.Timeline.prototype.notifyEventSpacingChanged=function(){function t(){for(var t=-(this.canvas.height()-this.options.article.distanceToMainLine),i=0;i<e.articles.length;i++){var o=e.articles[i];(!o.isVisibleInRows||o.offset.top<=t)&&(o.isVisibleInRows=!0,o.offset={left:0,top:t})}}var e=this;this.isInManualStackingMode()&&t(),this.defaultRedraw()}},function(t,e,i){"use strict";var o=i(1);o.Timeline.prototype.getStatusForSave=function(){for(var t=this.timescaleManager.startToken.value,e=[],i=0;i<this.articles.length;i++)e.push(this.articles[i].getStatusForSave());return JSON.stringify({t:this.title,o:this.ownerId,pd:this.isInPublicDirectory,z:this.timescaleManager.zoom,fy:t.year,fm:t.month,fd:t.day,w:this.repositionWindow,a:e,v:this.version})},o.Timeline.prototype.deferredSave=function(){if(!isEmbeddedMode){this.saveSchedule&&clearTimeout(this.saveSchedule);var t=this;this.saveSchedule=setTimeout(function(){t.save(),t.saveSchedule=null},500)}},o.Timeline.prototype.save=function(){this.restoring||this.options.onSave&&this.options.onSave(this.getStatusForSave())},o.Timeline.prototype.getCurrentState=function(){return JSON.parse(localStorage.getItem(STATE_KEY)||'{"a":[]}')},o.Timeline.prototype.mergeWithLocalStorage=function(t){for(var e,i=this.getCurrentState(),o=i.a,n=[],r=0;r<o.length;r++){var s=o[r];(isUndefined(e)||s.c>e)&&(e=s.c+1),n.push(s.i)}for(var r=0;r<t.a.length;r++){var s=t.a[r];n.indexOf(s.i)==-1&&(s.c=e%PERIOD_COLOURS.length,e++,i.a.push(s))}return i}},function(t,e,i){"use strict";var o=i(1),n=i(5),r=i(3),s=i(2);o.Timeline.prototype.enableZoomByWheel=function(){var t=this;this.canvas.mousewheel(function(e,i){t.onWheel(e,i)})},o.Timeline.prototype.onWheel=function(t,e){var i=this.timescaleManager.zoom,o=this.options.zoom.wheelSpeed,n=i+-e*o*this.options.zoom.wheelStep;n>this.options.zoom.maximum&&(n=this.options.zoom.maximum),n<this.options.zoom.minimum&&(n=this.options.zoom.minimum);var r=t.pageX-this.canvas.parent().offset().left;this.setZoomByPivotPixel(n,r),this.defaultRedraw(),(0,s.preventDefault)(t)},o.Timeline.prototype.setZoom=function(t,e,i){var e=e||this.width/2;i&&(i=Math.round(i)),this.setZoomByPivotPixel(t,e,i),this.defaultRedraw()},o.Timeline.prototype.setZoomByPivotPixel=function(t,e,i){this.setZoomByPivotPoint(t,this.getPivotPoint(e),e,i)},o.Timeline.prototype.setZoomByPivotPoint=function(t,e,i,o){var o=o||0;this.timescaleManager.setZoom(t);var n=this.timescaleManager.setStartDate(e.date);this.repositionWindow=n-e.fraction,this.updateFromByPixels(-i+o)},o.Timeline.prototype.getPivotPoint=function(t){var e=this.timescaleManager.getStartTokenCloned(),i=this.repositionWindow;i>=0&&(e=this.timescaleManager.getPrevious(e),i-=e.length);for(var o=e;i<=t;)i+=e.length,o=e,e=this.timescaleManager.getNext(e);var s=o.value,a=s.year,l=s.month,h=s.day,d=o.unit,u=t-(i-e.length),c=o.length;if(d===r.ZOOM_MONTH)h=Math.floor(u/c*30.44)+1,u-=(h-1)*c/30.44,o.value=new n.Dmy(a,l,h);else if(d!==r.ZOOM_DAY){var f=this.timescaleManager.unitLengthInYears,p=Math.floor(365.2422*u*f/c)+1,g=0;p>365&&(g=Math.floor(p/365),p-=365*g),u=0,o.value=n.Dmy.getByDayOfYear(a+g,p)}return{date:o.value,fraction:u}}},function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.TimescaleManager=void 0;var n=i(3),r=i(5),s=e.TimescaleManager=function t(e,i){o(this,t),this.owner=e,this.zoomOptions=i,this.zoom=0,this.startToken=null,this.unit=n.ZOOM_DAY,this.unitSizeInPixels=100,this.unitLengthInYears=1,this.zoomChangedHandlers=[],this.yearPrefix={minor:!1,major:!1},this.unitLevels=[]};s.prototype.getUnitSizeInPixelsForZoom=function(t){var e=this.zoomOptions.ratio,i=this.unitLevels[this.unit],o=i.zoomStart,n=i.startUnitSize;return n*Math.pow(e,t-o)},s.prototype.getChangePoint=function(t){this.unitLevels;return this.unitLevels[this.unit].zoomStart},s.prototype.getUnitFromZoom=function(t){for(var e=this.unitLevels,i=e.length-1;i<e.length;i--)if(t>=e[i].zoomStart)return i},s.prototype.getDateLabelFormatOptions=function(t){t=t===n.MAJOR_MARKER?"major":"minor";var e=this.owner.options.style.dateLabel[t];return{thousandsSeparator:e.thousandsSeparator,
bceText:e.bceText,yearPrefix:this.yearPrefix[t]}},s.prototype.createYearToken=function(t){var e={unit:this.unit,value:t,length:this.unitSizeInPixels},i=t.year,o=0==i;i<=0&&(i=-i+1);var r=this.unitLengthInYears,s=this.unitLevels[this.unit];return i%(10*r)===0||o?(e.label=t.format("YYYY",this.getDateLabelFormatOptions(n.MAJOR_MARKER)),e.type=n.MAJOR_MARKER):(e.type=n.MINOR_MARKER,this.zoom<s.zoomHideMinorLabels&&(e.label=t.format("YYYY",this.getDateLabelFormatOptions(n.MINOR_MARKER)))),e},s.prototype.createMonthToken=function(t){var e={unit:this.unit,value:t,length:this.unitSizeInPixels},i=this.unitLevels[n.ZOOM_MONTH];return 1==t.month?(e.label=t.format("YYYY",this.getDateLabelFormatOptions(n.MAJOR_MARKER)),e.type=n.MAJOR_MARKER):(e.type=n.MINOR_MARKER,this.zoom<i.zoomHideMinorLabels&&(e.label=t.format("MMM"))),e},s.prototype.createDayToken=function(t){var e={unit:this.unit,value:t,length:this.unitSizeInPixels},i=this.unitLevels[n.ZOOM_DAY];return 1==t.day?(e.label=t.format("MMM YYYY",this.getDateLabelFormatOptions(n.MAJOR_MARKER)),e.type=n.MAJOR_MARKER):(e.type=n.MINOR_MARKER,this.zoom<i.zoomHideMinorLabels&&(e.label=t.format("D"))),e},s.prototype.addZoomChangedHandler=function(t,e){this.zoomChangedHandlers.push({callback:t,context:e||this})},s.prototype.notifyZoomChanged=function(){for(var t=0;t<this.zoomChangedHandlers.length;t++)this.zoomChangedHandlers[t].callback.call(this.zoomChangedHandlers[t].context)},s.prototype.setZoom=function(t){this.zoom=parseFloat(t.toFixed(4)),this.zoom<this.zoomOptions.minimum&&(this.zoom=this.zoomOptions.minimum),this.zoom>this.zoomOptions.maximum&&(this.zoom=this.zoomOptions.maximum),this.unit=this.getUnitFromZoom(this.zoom),this.unitSizeInPixels=this.getUnitSizeInPixelsForZoom(this.zoom);var e=0;if(this.unit>=n.ZOOM_YEAR){var i=this.unit-n.ZOOM_YEAR;e=Math.pow(10,i)}return this.unitLengthInYears=e,this.setCurrentYearPrefixes(),this.notifyZoomChanged(),this.zoom},s.prototype.getPixelsBetween=function(t,e){var i=this.unit;return i<=n.ZOOM_DAY?t.getDaysTo(e)*this.unitSizeInPixels:i===n.ZOOM_MONTH?t.getMonthsTo(e)*this.unitSizeInPixels:t.getYearsTo(e)*this.unitSizeInPixels/this.unitLengthInYears},s.prototype.setStartToken=function(t){return this.startToken=t},s.prototype.setStartDate=function(t){var e=0;switch(t.year<0&&(e=1),this.unit){case n.ZOOM_DAY:return this.startToken=this.createDayToken(t),0;case n.ZOOM_MONTH:this.startToken=this.createMonthToken(new r.Dmy(t.year,t.month,1));var i=this.unitSizeInPixels/30.44;return i*(this.startToken.value.day-t.day);case n.ZOOM_YEAR:this.startToken=this.createYearToken(new r.Dmy(t.year,1,1));var i=this.unitSizeInPixels/365.2422;return i*(30.44*(this.startToken.value.month-t.month)+(this.startToken.value.day-t.day));default:var o=this.unitLengthInYears;this.startToken=this.createYearToken(new r.Dmy(Math.floor(t.year/o)*o+e,1,1));var i=this.unitSizeInPixels/(365.2422*o);return i*(365.2422*(this.startToken.value.year-t.year)+30.44*(this.startToken.value.month-t.month)+(this.startToken.value.day-t.day))}},s.prototype.getStartTokenCloned=function(){switch(this.startToken.unit){case n.ZOOM_DAY:return this.createDayToken(this.startToken.value);case n.ZOOM_MONTH:return this.createMonthToken(this.startToken.value);default:return this.createYearToken(this.startToken.value)}},s.prototype.getNext=function(t){switch(t.unit){case n.ZOOM_DAY:return this.createDayToken(t.value.getNextDay());case n.ZOOM_MONTH:return this.createMonthToken(t.value.getNextMonth());case n.ZOOM_YEAR:return this.createYearToken(t.value.addYears(1));default:var e=this.unitLengthInYears;return this.createYearToken(t.value.addYears(t.value.year==-(e-1)?e-1:e))}throw"Unknown unit:"+t.unit},s.prototype.getPrevious=function(t){switch(t.unit){case n.ZOOM_DAY:return this.createDayToken(t.value.getPreviousDay());case n.ZOOM_MONTH:return this.createMonthToken(t.value.getPreviousMonth());case n.ZOOM_YEAR:return this.createYearToken(t.value.addYears(-1));default:var e=this.unitLengthInYears;return this.createYearToken(t.value.addYears(0==t.value.year?1-e:-e))}},s.prototype.getPreviousNth=function(t,e){for(var i=0;i<e;i++)t=this.getPrevious(t);return t},s.prototype.zoomUnitToString=function(t){switch(t){case n.ZOOM_DAY:return"day";case n.ZOOM_MONTH:return"month";case n.ZOOM_YEAR:return"year";case n.ZOOM_DECADE:return"decade";case n.ZOOM_CENTURY:return"century";case n.ZOOM_MILLENNIUM:return"millennium";case n.ZOOM_10_THOUSAND_YEARS:return"10 thousand years";case n.ZOOM_100_THOUSAND_YEARS:return"100 thousand years";case n.ZOOM_MILLION_YEARS:return"million years";case n.ZOOM_10_MILLION_YEARS:return"10 million years";case n.ZOOM_100_MILLION_YEARS:return"100 million years";case n.ZOOM_BILLION_YEARS:return"billion years";default:return"unknown"}},s.prototype.setUnitLevels=function(){this.unitLevels=[];var t=(this.zoomOptions.ratio,this.zoomOptions.unitSize.minimum),e=this.zoomOptions.unitSize.showMinorLabels,i=0,o=this.getZoomChangeByDistance(e,t),n=this.zoomOptions.unitSize.initial,r=this.getZoomChangeByDistance(n,t),s=i+r,a=s-o,l={startUnitSize:n,zoomStart:i,zoomHideMinorLabels:a,zoomEnd:s};this.unitLevels.push(l);var h=31*t,d=this.getZoomChangeByDistance(h,t),u=s+d,c=u-o;this.unitLevels.push({startUnitSize:h,zoomStart:s,zoomHideMinorLabels:c,zoomEnd:u});var f=12*t,p=this.getZoomChangeByDistance(f,t),g=u+p,m=g-o;this.unitLevels.push({startUnitSize:f,zoomStart:u,zoomHideMinorLabels:m,zoomEnd:g});for(var v,y,A,w,I=g,S=8,M=1;M<=S;M++)v=10*t,y=this.getZoomChangeByDistance(v,t),A=I+y,w=A-o,this.unitLevels.push({startUnitSize:v,zoomStart:I,zoomHideMinorLabels:w,zoomEnd:A}),I=A,M===S&&(this.zoomOptions.maximum=Math.min(this.zoomOptions.maximum,A))},s.prototype.getZoomChangeByDistance=function(t,e){var i=this.zoomOptions.ratio,o=Math.log(e/t)/Math.log(i);return o},s.prototype.scaleDistanceByZoomChange=function(t,e){var i=this.zoomOptions.ratio,o=t*Math.pow(i,e);return o},s.prototype.setCurrentYearPrefixes=function(){var t=["minor","major"];if(this.unit<n.ZOOM_YEAR)for(var e=0;e<t.length;e++)this.yearPrefix[t[e]]=!1;else for(var i=this.owner.options.style.dateLabel,o={minor:this.unitLengthInYears,major:10*this.unitLengthInYears},e=0;e<t.length;e++){var r=t[e],s=Object.values(i[r].yearPrefixes);this.yearPrefix[r]=!1,s.sort(function(t,e){return e.minDivision-t.minDivision});for(var a=0;a<s.length;a++){var l=s[a];if(l.minDivision<=o[r]){this.yearPrefix[r]={label:l.label,value:l.value};break}}}}},function(t,e){"use strict";function i(t){t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor="transparent black"}function o(t,e,i){for(var o=[],n=e.split(/ /),r="",s=0;s<n.length;s++){var a=r+n[s],l=t.measureText(a),h=l.width;h<=i?r+=n[s]+" ":1===a.split(/ /).length?r+=n[s].substr(0,12)+"... \n":(o.push(r),r="",s--)}return""!=r&&o.push(r),o}function n(t,e,i){for(var o=e,n=e.length-1;t.measureText(o).width>i;)o=e.substr(0,n)+"…",n--;return o}function r(t,e,i,o,n,r){t.moveTo(e+r,i),t.lineTo(e+o-r,i),r>0&&t.quadraticCurveTo(e+o,i,e+o,i+r),t.lineTo(e+o,i+n),t.lineTo(e,i+n),t.lineTo(e,i+r),r>0&&t.quadraticCurveTo(e,i,e+r,i),0==r&&t.closePath()}function s(t,e,i,o,n,r,s,a){t.beginPath();for(var l=Math.PI/o,h=0;h<2*o;h++){var d=0==(1&h)?r:n,u=e+Math.cos(1+h*l)*d,c=i+Math.sin(1+h*l)*d;0==h?t.moveTo(u,c):t.lineTo(u,c)}t.closePath(),t.lineWidth=1,t.strokeStyle=a,t.fillStyle=s,t.stroke(),t.fill()}function a(t,e,i){e=e.trim();for(var o=e+"…",n=e.length-1;t.measureText(o).width>i;)o=e.substr(0,n)+"…",n--;return o}Object.defineProperty(e,"__esModule",{value:!0}),e.noShadow=i,e.wrapText=o,e.summarize=n,e.topRoundRectPath=r,e.drawStar=s,e.squeezeEllipsis=a},function(t,e){t.exports="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"}])});